<ManagementPack xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ContentReadable="true" SchemaVersion="2.0" OriginalSchemaVersion="2.0"><Manifest><Identity><ID>Microsoft.SystemCenter.MicrosoftAzure</ID><Version>1.8.8.9</Version></Identity><Name>Microsoft.SystemCenter.MicrosoftAzure</Name><References><Reference Alias="IGL"><ID>Microsoft.SystemCenter.InstanceGroup.Library</ID><Version>7.5.8501.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="SCDW"><ID>Microsoft.SystemCenter.DataWarehouse.Library</ID><Version>7.0.8427.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="SC"><ID>Microsoft.SystemCenter.Library</ID><Version>7.0.8433.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference
Alias="SCOL"><ID>Microsoft.SystemCenter.OperationsManager.Library</ID><Version>7.1.10226.1015</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="WebApp"><ID>Microsoft.SystemCenter.WebApplication.Library</ID><Version>7.1.10226.1015</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="Windows"><ID>Microsoft.Windows.Library</ID><Version>7.5.8501.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="Health"><ID>System.Health.Library</ID><Version>7.0.8433.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="System"><ID>System.Library</ID><Version>7.5.8501.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="Visualization"><ID>Microsoft.SystemCenter.Visualization.Library</ID><Version>7.1.10226.1015</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference
Alias="VisualizationConfiguration"><ID>Microsoft.SystemCenter.Visualization.Configuration.Library</ID><Version>7.0.8560.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="CompLib"><ID>Microsoft.SystemCenter.Visualization.Component.Library</ID><Version>7.0.9538.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="Performance"><ID>System.Performance.Library</ID><Version>7.0.8433.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="ServiceDesigner"><ID>Microsoft.SystemCenter.ServiceDesigner.Library</ID><Version>7.0.8433.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference><Reference Alias="Image"><ID>System.Image.Library</ID><Version>7.5.8501.0</Version><PublicKeyToken>31bf3856ad364e35</PublicKeyToken></Reference></References></Manifest><TypeDefinitions><EntityTypes><ClassTypes><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ActivityLogAlert"
Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass" Hosted="true" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass" Accessibility="Public" Abstract="true" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Hosted="true" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Hosted="true" Singleton="false" Extension="false"><Property ID="TargetResource" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="2083" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceGroup" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType
ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ScheduledRule" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass" Hosted="true" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Classic" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine" Hosted="true" Singleton="false" Extension="false"><Property ID="FullyQualifiedDomainName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DeploymentId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" Accessibility="Public" Abstract="true" Base="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource" Hosted="true"
Singleton="false" Extension="false"><Property ID="ResourceGroup" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Tags" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="8192" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Accessibility="Public" Abstract="true" Base="System!System.Service" Hosted="false" Singleton="false" Extension="false"><Property ID="ServiceId" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="2083" MinLength="0" Required="false" Scale="0" /><Property ID="ServiceName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Type" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false"
Scale="0" /><Property ID="Location" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="SubscriptionId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Kind" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Accessibility="Public" Abstract="true" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Backup" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.CloudServiceResource" Hosted="true" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.CloudService"
Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="Label" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="Description" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceInstanceID" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.CloudServiceResource" Accessibility="Public" Abstract="true" Base="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource" Hosted="true" Singleton="false" Extension="false"><Property ID="ResourceProviderNamespace" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0"
Required="false" Scale="0" /><Property ID="ETag" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="SchemaVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericDomainName" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.ArmService" Hosted="true" Singleton="false" Extension="false"><Property ID="Label" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="HostName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole" Accessibility="Public" Abstract="false"
Base="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" Hosted="true" Singleton="false" Extension="false"><Property ID="DeploymentName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DeploymentSlot" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DeploymentId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="OsVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Size" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DiagnosticsStorageAccount" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false"
MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericSlot" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" Hosted="true" Singleton="false" Extension="false"><Property ID="DeploymentName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /><Property ID="DeploymentLabel" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DeploymentId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="512" MinLength="0" Required="false" Scale="0" /><Property ID="Url" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="2083" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericSqlDatabase"
Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" Hosted="true" Singleton="false" Extension="false"><Property ID="Edition" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ServiceLevelObjective" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Collation" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericStorageAccount" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.ArmService" Hosted="true" Singleton="false" Extension="false"><Property ID="AccountType" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false"
Scale="0" /><Property ID="SecondaryRegion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.ArmService" Hosted="true" Singleton="false" Extension="false"><Property ID="Size" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="OsVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="DiagnosticsStorageAccount" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.NonClassic"
Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine" Hosted="true" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Hosted="true" Singleton="false" Extension="false"><Property ID="TargetResource" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="2083" MinLength="0" Required="false" Scale="0" /><Property ID="Description" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceGroup" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Plan" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false"
Scale="0" /><Property ID="Tags" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="8192" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.MediaService" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="AccountId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.MobileService" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="ApplicationKey" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="ApplicationUrl" Type="string"
AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="BackendVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="DeploymentTriggerUrl" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="EnableExternalPushEntity" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="ManagementPortalLink" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="MasterKey" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="Platform" Type="string" AutoIncrement="false" Key="false"
CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="Selflink" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="SourceRepositoryUrl" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="500" MinLength="0" Required="false" Scale="0" /><Property ID="Webspace" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceInstanceID" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.RemoteApp" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="BillingPlanName" Type="string"
AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Description" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="MaxSessions" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Mode" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="OfficeType" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ReadyForPublishing" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="SessionWarningThreshold" Type="string" AutoIncrement="false" Key="false"
CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Status" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="TemplateImageName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="TrialOnly" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="VnetName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="WaitBeforeShutdownInMinutes" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.ServiceBus" Accessibility="Public" Abstract="false"
Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="CreatedAt" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ServiceBusEndpoint" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Critical" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="EventHubEnabled" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="NamespaceType" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceInstanceID" Type="string" AutoIncrement="false" Key="false"
CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" Hosted="true" Singleton="false" Extension="false"><Property ID="ResourceGroup" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Plan" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Tags" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="8192" MinLength="0" Required="false" Scale="0" /><Property ID="Kind" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup"
Accessibility="Public" Abstract="false" Base="System!System.LogicalEntity" Hosted="true" Singleton="false" Extension="false"><Property ID="ResourceGroupId" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="Location" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Tags" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="8192" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource" Accessibility="Public" Abstract="true" Base="System!System.LogicalEntity" Hosted="false" Singleton="false" Extension="false"><Property ID="ResourceName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceId" Type="string"
AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="2083" MinLength="0" Required="false" Scale="0" /><Property ID="Type" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /><Property ID="SubscriptionId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Kind" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription" Accessibility="Public" Abstract="false" Base="System!System.LogicalEntity" Hosted="false" Singleton="false" Extension="false"><Property ID="SubscriptionId" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /><Property ID="ProxyServerAddress" Type="string"
AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ManagementServiceUri" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ManagementServiceApiVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="StorageServiceDnsSuffix" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="StorageServiceApiVersion" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ClientId" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="Authority" Type="string"
AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ResourceUri" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="ArmServiceUri" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /><Property ID="GraphServiceUri" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.TrafficManager" Accessibility="Public" Abstract="false" Base="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceRdfe" Hosted="true" Singleton="false" Extension="false"><Property ID="DomainName" Type="string" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="255" MinLength="0" Required="false" Scale="0" /></ClassType><ClassType
ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.GenericService" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.ServiceComponentGroup" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.ServiceComponentGroup" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.ServiceComponentGroup" Hosted="false" Singleton="false" Extension="false" /><ClassType
ID="Microsoft.SystemCenter.MicrosoftAzure.DA.StorageAccounts" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.ServiceComponentGroup" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Dependency" Accessibility="Public" Abstract="true" Base="ServiceDesigner!Microsoft.SystemCenter.ServiceDesigner.ServiceComponentGroup" Hosted="false" Singleton="false" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Function" Accessibility="Public" Abstract="false" Base="System!System.LogicalEntity" Hosted="false" Singleton="false" Extension="false"><Property ID="FunctionName" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Test" Accessibility="Public" Abstract="false" Base="System!System.Perspective" Hosted="false"
Singleton="false" Extension="false"><Property ID="ClientPerspectiveId" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /><Property ID="FunctionName" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /><Property ID="ComputerPrincipalName" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="256" MinLength="1" Required="false" Scale="0" /><Property ID="Command" Type="string" AutoIncrement="false" Key="true" CaseSensitive="false" MaxLength="65536" MinLength="1" Required="false" Scale="0" /><Property ID="IntervalSeconds" Type="int" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" DefaultValue="300" /><Property ID="Threshold" Type="int" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0"
DefaultValue="300" /><Property ID="NumSamples" Type="int" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" DefaultValue="3" /><Property ID="SupressionInternval" Type="int" AutoIncrement="false" Key="false" CaseSensitive="false" MaxLength="256" MinLength="0" Required="false" Scale="0" DefaultValue="1200" /></ClassType><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Group.AllAzureMonitoredResources" Accessibility="Public" Abstract="false" Base="IGL!Microsoft.SystemCenter.InstanceGroup" Hosted="false" Singleton="true" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Group.AllAzureMonitoredSubscriptions" Accessibility="Public" Abstract="false" Base="IGL!Microsoft.SystemCenter.InstanceGroup" Hosted="false" Singleton="true" Extension="false" /><ClassType ID="Microsoft.SystemCenter.MicrosoftAzure.Group.ResourcePoolComputers" Accessibility="Public" Abstract="false"
Base="IGL!Microsoft.SystemCenter.InstanceGroup" Hosted="false" Singleton="true" Extension="false" /></ClassTypes><RelationshipTypes><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.ClientPerspective" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective.Contains.Perspective" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647"
Type="System!System.Perspective" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective.Hosts.Function" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Function" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Function.Contains.Test" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Function" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Test" /></RelationshipType><RelationshipType
ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.AzureServices" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.StorageAccounts" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.StorageAccounts" /></RelationshipType><RelationshipType
ID="Microsoft.SystemCenter.MicrosoftAzure.DA.StorageAccounts.Contains.StorageAccount" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.StorageAccounts" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.GenericStorageAccount" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices.Contains.AzureServiceGeneric" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" /></RelationshipType><RelationshipType
ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.SqlAzureServerRole" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases.Contains.Database" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.Database" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases.Contains.AzureDatabase" Accessibility="Public"
Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.GenericSqlDatabase" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.Dependency" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Dependency" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Dependency.Contains.Entity" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="source" MinCardinality="0"
MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Dependency" /><Target ID="target" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.Entity" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective.References.AzureServices" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" /><Target ID="target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices.References.SqlAzureServerRole" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" /><Target ID="target"
MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.SqlDatabases" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices.References.StorageAccounts" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.AzureServices" /><Target ID="target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.StorageAccounts" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective.References.Dependency" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective" /><Target ID="target" MinCardinality="0" MaxCardinality="2147483647"
Type="Microsoft.SystemCenter.MicrosoftAzure.Dependency" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.Contains.ArmResource" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.LogicalEntity" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService.Hosts.ArmResource" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmService" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" /></RelationshipType><RelationshipType
ID="Microsoft.SystemCenter.MicrosoftAzure.CloudService.Hosts.CloudServiceResources" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.CloudService" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.CloudServiceResource" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.LogicalEntity.References.Insights.ActivityLogAlert" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.LogicalEntity" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.ActivityLogAlert" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.References.Insights.AlertRule"
Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService.References.Insights.AlertRule" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmService" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.References.Insights.MetricAlert" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source"
MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmResource" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService.References.Insights.MetricAlert" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmService" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric.References.Insights.ScheduledRule" Accessibility="Public" Abstract="false" Base="System!System.Reference"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647"
Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.ScheduledRule" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Hosts.InsightsBaseRuleClass" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Hosts.InsightsMetricAlert" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup" /><Target ID="Target"
MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Resource.References.Resource" Accessibility="Public" Abstract="false" Base="System!System.Containment"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.Entity" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="System!System.Entity" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Hosts.InsightsAlertRule" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule" /></RelationshipType><RelationshipType
ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Hosts.Resource" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ArmService" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.CloudService" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.CloudService" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.MediaService" Accessibility="Public" Abstract="false"
Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.MediaService" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.MobileService" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.MobileService" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.RemoteApp" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647"
Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.RemoteApp" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.ServiceBus" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceBus" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.ResourceGroup" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647"
Type="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup" /></RelationshipType><RelationshipType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Hosts.TrafficManager" Accessibility="Public" Abstract="false" Base="System!System.Hosting"><Source ID="Source" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /><Target ID="Target" MinCardinality="0" MaxCardinality="2147483647" Type="Microsoft.SystemCenter.MicrosoftAzure.TrafficManager" /></RelationshipType></RelationshipTypes></EntityTypes><SchemaTypes><SchemaType ID="MicrosoftAzureDashboardSchema" Accessibility="Public"><xs:complexType xmlns:sc="http://schemas.microsoft.com/SystemCenter/Common/TypeExtensions" xmlns:xs="http://www.w3.org/2001/XMLSchema" name="DashboardPersonalizationOverride"><xs:sequence minOccurs="0" maxOccurs="1"><xs:element name="DateRange" type="xs:anyType"
sc:type="xsd://Microsoft.SystemCenter.Visualization.Library!Microsoft.SystemCenter.Visualization.ChartDataTypes/DynamicDateTimeRange" minOccurs="1" maxOccurs="1" /></xs:sequence></xs:complexType></SchemaType><SchemaType ID="Microsoft.SystemCenter.MicrosoftAzure.ComboBox" Accessibility="Internal"><xs:complexType xmlns:xs="http://www.w3.org/2001/XMLSchema" name="Microsoft.SystemCenter.MicrosoftAzure.ComboBoxItem"><xs:sequence><xs:element name="DisplayName" type="xs:string" /><xs:element name="Value" type="xs:string" /></xs:sequence></xs:complexType></SchemaType><SchemaType ID="Microsoft.SystemCenter.MicrosoftAzure.SchemaType.MetricSettings" Accessibility="Internal"><xsd:complexType xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="MetricSettingsList"><xsd:sequence><xsd:element name="MetricSettings" minOccurs="0" maxOccurs="unbounded"><xsd:complexType><xsd:sequence><xsd:element name="Name" type="xsd:string" /><xsd:element name="ObjectName" type="xsd:string" minOccurs="0" /><xsd:element
name="Kind" type="xsd:string" minOccurs="0" /><xsd:element name="CounterName" type="xsd:string" /><xsd:element name="InstanceName" type="xsd:string" minOccurs="0" /><xsd:element name="TimeGrain" type="xsd:string" /><xsd:element name="Aggregation" type="xsd:string" /><xsd:element name="Namespace" type="xsd:string" minOccurs="0" /><xsd:element name="RuleId" type="xsd:string" minOccurs="0" /></xsd:sequence></xsd:complexType></xsd:element></xsd:sequence></xsd:complexType></SchemaType><SchemaType ID="Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceTypeSettings" Accessibility="Internal"><xsd:complexType xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="ResourceTypeClassList"><xsd:sequence><xsd:element name="ResourceTypeClass" minOccurs="0" maxOccurs="unbounded"><xsd:complexType><xsd:sequence><xsd:element name="ResourceType" type="xsd:string" /><xsd:element name="ResourceClass" type="xsd:string" /><xsd:element name="ResourceExcludeList" type="xsd:string" minOccurs="0" maxOccurs="1"
/></xsd:sequence></xsd:complexType></xsd:element></xsd:sequence></xsd:complexType></SchemaType><SchemaType ID="Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceGroupSettings" Accessibility="Internal"><xsd:complexType xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="MonitoredResourceGroupsList"><xsd:sequence><xsd:element name="ResourceGroupClass" minOccurs="0" maxOccurs="unbounded"><xsd:complexType><xsd:sequence><xsd:element name="ResourceGroupId" type="xsd:string" /><xsd:element name="MonitoredTypes" minOccurs="0" maxOccurs="1"><xsd:complexType><xsd:sequence><xsd:element name="MonitoredType" minOccurs="1" maxOccurs="unbounded" /></xsd:sequence></xsd:complexType></xsd:element></xsd:sequence></xsd:complexType></xsd:element></xsd:sequence></xsd:complexType></SchemaType></SchemaTypes><SecureReferences><SecureReference ID="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials" Accessibility="Public" Context="Microsoft.SystemCenter.MicrosoftAzure.Subscription"
/><SecureReference ID="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Accessibility="Public" Context="Microsoft.SystemCenter.MicrosoftAzure.Subscription" /></SecureReferences><ModuleTypes><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.PerformanceCounter.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.MetricSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultInstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="MetricSettings" type="MetricSettingsList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Kind" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="Scheduler" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Config/ResourceId$</UniquenessKey></DataSource><ProbeAction ID="ArmResource.PerformanceCounter.CollectData.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.PerformanceCounter.CollectData.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><ResourceId>$Config/ResourceId$</ResourceId><TargetId>$Config/TargetId$</TargetId><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><DefaultObjectName>$Config/DefaultObjectName$</DefaultObjectName><DefaultInstanceName>$Config/DefaultInstanceName$</DefaultInstanceName><MetricSettings>$Config/MetricSettings$</MetricSett
ings><Kind>$Config/Kind$</Kind></ProbeAction></MemberModules><Composition><Node ID="ArmResource.PerformanceCounter.CollectData.PA"><Node ID="Scheduler" /></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.CloudService.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="ServiceClass" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="CloudService.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.CloudService.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><Cl
oudServiceClass>$Config/ServiceClass$</CloudServiceClass><BackupClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Backup"]$</BackupClass></ProbeAction></MemberModules><Composition><Node ID="CloudService.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole.Wad.EventLog.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride"
type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates
/></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceId$WADWindowsEventLogsTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.EventLog.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmResourceUri><B
aseManagementApiAddress>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentSlot$</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceName$</RoleName><RoleType>NonPersistentVMRole</RoleType><StorageServic
eDnsSuffix>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADWindowsEventLogsTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2" TypeID="System!System.ExpressionFilter"><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">LoggingComputer</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$.$Target/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentSlot$</Pattern></RegExExpression></Expression></ConditionDetection></MemberModules><Composition><Node ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Event.Data</OutputType></DataSourceModuleType><DataSourceModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole.Wad.NetTrace.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string"
/></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceId$WADLogsTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.NetTrace.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmResourceUri><B
aseManagementApiAddress>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentSlot$</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceName$</RoleName><RoleType>NonPersistentVMRole</RoleType><StorageServic
eDnsSuffix>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADLogsTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2" TypeID="System!System.ExpressionFilter"><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">LoggingComputer</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$.$Target/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentSlot$</Pattern></RegExExpression></Expression></ConditionDetection></MemberModules><Composition><Node ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Event.Data</OutputType></DataSourceModuleType><DataSourceModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole.Wad.PerformanceCounter.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="CounterName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="InstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="AllInstances" type="xsd:boolean" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates
/></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceId$WADPerformanceCountersTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.PerformanceCounter.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmReso
urceUri><BaseManagementApiAddress>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentSlot$</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceName$</RoleName><RoleType>NonPersistentVMRole</RoleType><Sto
rageServiceDnsSuffix>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADPerformanceCountersTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2" TypeID="System!System.ExpressionFilter"><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">ObjectName</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>$Config/ObjectName$</Pattern></RegExExpression></Expression></ConditionDetection><ConditionDetection ID="CD3" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><And><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">ObjectName</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>;$Config/ObjectName$</Pattern></RegExExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">CounterName</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">$Config/CounterName$</Value></ValueExpression></SimpleExpression></Expression></And></Expression><Expression><Or><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">InstanceName</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>;$Config/InstanceName$</Pattern></RegExExpression></Expression><Expression><SimpleExpression><ValueExpression><Value Type="String">$Config/AllInstances$</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">true</Value></ValueExpression></SimpleExpression></Expression></Or></Expression></And></Expression></ConditionDetection><ConditionDetection ID="Mapper" TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>$Config/ObjectName$</ObjectName><CounterName>$Config/CounterName$</CounterName><InstanceName>$Data/InstanceName$</InstanceName><Value>$Data/Value$</Value></ConditionDetection></MemberModules><Composition><Node ID="Mapper"><Node ID="CD3"><Node
ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRoleProperty.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Role" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="StorageAccountOverride" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$"
ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="StorageAccountOverride" Selector="$Config/StorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="GenericRoleProperty.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.GenericRoleProperty.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><Role>$Config/Role$</Role><ResourceClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"]$</ResourceClass><StorageAccountOverride>$Config/StorageAccountOverride$</StorageAccountOverride></ProbeAction></MemberModules><Composition><Node
ID="GenericRoleProperty.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericStorageAccount.Wad.CapacityBlob.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation
Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$MetricsCapacityBlob</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.StorageAccount.CapacityBlob.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><BaseManagementApiAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</BaseManagementApiAddress><
ManagementApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><StorageServiceDnsSuffix>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</DiagnosticsStorageAccount><DiagnosticsStorageTable>$MetricsCapacityBlob</DiagnosticsStorageTable></ProbeAction><ConditionDetection
ID="Mapper" TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>Azure storageAccounts (Microsoft.ClassicStorage)</ObjectName><CounterName>Size MB</CounterName><InstanceName>Blob</InstanceName><Value>$Data/Property[@Name='Capacity']$</Value></ConditionDetection></MemberModules><Composition><Node ID="Mapper"><Node ID="PA"><Node ID="DS" /></Node></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Wad.EventLog.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates
/></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$WADWindowsEventLogsTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.EventLog.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmResourceUri><BaseManagementApiAddress>$
Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>Production</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Classic"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</RoleName><RoleType>PersistentVMRole</RoleType><StorageServiceDnsSuffix>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageSer
viceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADWindowsEventLogsTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2"
TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">LoggingComputer</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$.Production.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><Composition><Node ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Event.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Wad.NetTrace.CollectData.DS" Accessibility="Public"
RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS"
TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$WADLogsTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.NetTrace.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmResourceUri><BaseManagementApiAddress>$
Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>Production</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Classic"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</RoleName><RoleType>PersistentVMRole</RoleType><StorageServiceDnsSuffix>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageSer
viceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADLogsTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2"
TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">LoggingComputer</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$.Production.$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><Composition><Node ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Event.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Wad.PerformanceCounter.CollectData.DS" Accessibility="Public"
RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="CounterName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="InstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="AllInstances" type="xsd:boolean" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride"
type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="DiagnosticsStorageAccountOverride" Selector="$Config/DiagnosticsStorageAccountOverride$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates
/></Scheduler><UniquenessKey>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$WADPerformanceCountersTable</UniquenessKey></DataSource><ProbeAction ID="PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.PerformanceCounter.CollectData.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><ArmResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ArmResourceUri><BaseManagementAp
iAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><DeploymentSlot>Production</DeploymentSlot><DeploymentId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Classic"]/DeploymentId$</DeploymentId><RoleName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</RoleName><RoleType>PersistentVMRole</RoleType><StorageServiceDnsSuffix>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/
StorageServiceDnsSuffix$</StorageServiceDnsSuffix><StorageServiceApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/StorageServiceApiVersion$</StorageServiceApiVersion><DiagnosticsStorageAccount>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine"]/DiagnosticsStorageAccount$</DiagnosticsStorageAccount><DiagnosticsStorageAccountOverride>$Config/DiagnosticsStorageAccountOverride$</DiagnosticsStorageAccountOverride><DiagnosticsStorageTable>WADPerformanceCountersTable</DiagnosticsStorageTable></ProbeAction><ConditionDetection ID="CD1" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">alwaystrue</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CD2"
TypeID="System!System.ExpressionFilter"><Expression><RegExExpression><ValueExpression><XPathQuery Type="String">ObjectName</XPathQuery></ValueExpression><Operator>ContainsSubstring</Operator><Pattern>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$;</Pattern></RegExExpression></Expression></ConditionDetection><ConditionDetection ID="CD3" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">ObjectName</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$;$Config/ObjectName$</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">CounterName</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">$Config/CounterName$</Value></ValueExpression></SimpleExpression></Expression></And></Expression><Expression><Or><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">InstanceName</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Config/InstanceName$</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><Value Type="String">$Config/AllInstances$</Value></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">true</Value></ValueExpression></SimpleExpression></Expression></Or></Expression></And></Expression></ConditionDetection><ConditionDetection ID="Mapper" TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>$Config/ObjectName$</ObjectName><CounterName>$Config/CounterName$</CounterName><InstanceName>$Data/InstanceName$</InstanceName><Value>$Data/Value$</Value></ConditionDetection></MemberModules><Composition><Node
ID="Mapper"><Node ID="CD3"><Node ID="CD2"><Node ID="CD1"><Node ID="PA"><Node ID="DS" /></Node></Node></Node></Node></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ActivityLogAlert.Alerts.Monitoring.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MGName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720"
/></xsd:restriction></xsd:simpleType></xsd:element></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.InsightsActivityLogStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule.Event.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="MGName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceGroupName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SyncTime" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ADPassword" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.AzureEventCollectionDS</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass.Monitoring.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MGName" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.InsightsBaseRuleClassStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert.Monitoring.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"
Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeRange" Selector="$Config/TimeRange$" ParameterType="int" /></OverrideableParameters><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.MetricAlertStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ScheduledQueryRule.Alerts.Monitoring.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MGName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720"
/></xsd:restriction></xsd:simpleType></xsd:element></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.InsightsScheduledRuleStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.MediaService.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceClass" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="MediaService.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.MediaService.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><Me
diaServiceClass>$Config/ServiceClass$</MediaServiceClass></ProbeAction></MemberModules><Composition><Node ID="MediaService.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration><IncludeSchemaTypes><SchemaType>Windows!Microsoft.Windows.PowerShellSchema</SchemaType><SchemaType>System!System.ExpressionEvaluatorSchema</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$"
ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="Scheduler" TypeID="System!System.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval>$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ProbeAction ID="Script" TypeID="Windows!Microsoft.Windows.PowerShellPropertyBagProbe"><ScriptName>GetAllAzureSCOMAlerts.ps1</ScriptName><ScriptBody>param($MGName)
$errorActionPreference = 'Stop'
$momAPI = New-Object -ComObject "MOM.ScriptAPI"
$errEvent = [System.Diagnostics.EventLogEntryType]::Error;
$infoEvent = [System.Diagnostics.EventLogEntryType]::Information;
#Alert Resolution State
$resolutionStateClose = 255;
$ResolutionStateActive = 0;
$script:traceMsg = "";
$InsightsBaseRuleClass = "Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass";
$MetricAlertRuleClass = "Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert";
$ArmServiceClass = "Microsoft.SystemCenter.MicrosoftAzure.ArmService";
$ArmResourceClass = "Microsoft.SystemCenter.MicrosoftAzure.ArmResource";
#Adds tracemessage to $Script
Function AddTraceMessage 
{
    param($message)
    $timeStamp = (get-date -format "HH:mm:ss:fff");
    $script:traceMsg = $script:traceMsg + "`n[" + $timeStamp  + "] " + $message;
}
Function GetSCOMSeverity 
{
    param($severity)
    if($severity -eq 'Error')
    {
    return 2;
    }
    elseif($severity -eq 'Warning')
    {
    return 1;
    }
    else
    {
    return 0;
    }
}
Try
{
    $error.Clear();
	AddTraceMessage -message "Microsoft Azure GetAllAzureSCOMAlerts.ps1 started."    
    #Import-Module OperationsManager
	$omModule = get-module -name "OperationsManager"
	if ($omModule -eq $null)
	{
		$SCOMPowerShellKey = "HKLM:\SOFTWARE\Microsoft\System Center Operations Manager\12\Setup\Powershell\V2"
		$SCOMModulePath = Join-Path (Get-ItemProperty $SCOMPowerShellKey).InstallDirectory "OperationsManager" 
		Import-module $SCOMModulePath | Out-Null
	}
    AddTraceMessage -message "Searching OM Alert for classes: `n $InsightsBaseRuleClass and $MetricAlertRuleClass"
	$ManagementGroupSubKeyPath = "\SOFTWARE\Microsoft\Microsoft Operations Manager\3.0\Server Management Groups\" + $MGName + "\Parent Health Services\0"
	if (-not ([string]::IsNullOrWhiteSpace(($MGName))) -And (Test-Path "HKLM:$ManagementGroupSubKeyPath"))
	{
		$ComputerName = (Get-ItemProperty "HKLM:$ManagementGroupSubKeyPath").NetworkName
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}
	else
	{
		$ComputerName = "localhost"
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}  
    $alerts = get-scomclass -Name $InsightsBaseRuleClass | Get-SCOMClassInstance | get-scomalert | sort-object -Property @{Expression ="MonitoringObjectDisplayName"; Descending = $True},@{Expression = "TimeRaised"; Descending = $True} | select-object -Unique
    $metricalerts = get-scomclass -Name $MetricAlertRuleClass | Get-SCOMClassInstance | get-scomalert | sort-object -Property @{Expression ="MonitoringObjectDisplayName"; Descending = $True},@{Expression = "TimeRaised"; Descending = $True} | select-object -Unique
	$ArmServiceClassInstances = Get-SCOMClass -Name $ArmServiceClass | Get-SCOMClassInstance | Where-object {$_.HealthState -eq "Error" -or $_.HealthState -eq "Warning"}
	$ArmResourceClassInstances = Get-SCOMClass -Name $ArmResourceClass | Get-SCOMClassInstance | Where-object {$_.HealthState -eq "Error" -or $_.HealthState -eq "Warning"}
    
	$targetResourceState = @{};
    foreach($alert in $alerts)
    {
        $propertyBag = $momAPI.CreatePropertyBag()
        $propertyBag.AddValue("RuleId",$alert.MonitoringObjectName);
        if($alert.ResolutionState -eq $resolutionStateClose -or $alert.Severity -eq 'Information')
        {
            $propertyBag.AddValue("State", "Closed");
			$propertyBag.AddValue("Severity", $alert.Severity.ToString());
        }
        else
        {
            $propertyBag.AddValue("State", "Active");
			$propertyBag.AddValue("Severity", $alert.Severity.ToString());
        }
       $xdoc =([xml]($alert.context));
       $targetIds=$xdoc.DataItem.Property[$xdoc.DataItem.Property.Length-1].'#text';
       if($targetIds -ne "" -and $targetIds -ne $null)
       {
			$targetIdsArray=$targetIds.split(';');
			foreach($id in $targetIdsArray)
			{
				if($targetResourceState.ContainsKey($id))
				{
					if($targetResourceState[$id][0] -eq 255 -and $alert.ResolutionState -eq 0)
					{
						$targetResourceState[$id]=@($alert.ResolutionState,$alert.Severity.ToString());
					}
					elseif($targetResourceState[$id][0] -eq 0 -and $alert.ResolutionState -eq 0  )
                    {
                    $existingSeverity=GetSCOMSeverity -severity $targetResourceState[$id][1];
                    $currentSeverity=GetSCOMSeverity -severity $alert.Severity.ToString();
                    if($currentSeverity -gt $existingSeverity)
                    {
                        $targetResourceState[$id]=@($alert.ResolutionState,$alert.Severity.ToString());
                    }
                    }
				}
				else
				{
					$targetResourceState.add($id,@($alert.ResolutionState,$alert.Severity.ToString()));
				}
			}
       }
       $propertyBag
            
    }
   
    foreach($alert in $metricalerts)
    {
        $propertyBag = $momAPI.CreatePropertyBag()
        $propertyBag.AddValue("RuleId",$alert.MonitoringObjectName);
        if($alert.ResolutionState -eq $resolutionStateClose-or $alert.Severity -eq 'Information')
        {
            $propertyBag.AddValue("State", "Closed");
			$propertyBag.AddValue("Severity", $alert.Severity.ToString());
        }
        else
        {
            $propertyBag.AddValue("State", "Active");
			$propertyBag.AddValue("Severity", $alert.Severity.ToString());
        }
       $xdoc =([xml]($alert.context));
       $targetIds=$xdoc.DataItem.Property[$xdoc.DataItem.Property.Length-1].'#text';
       if($targetIds -ne "" -and $targetIds -ne $null)
       {
		    $targetIdsArray=$targetIds.split(';');
			foreach($id in $targetIdsArray)
			{
				if($targetResourceState.ContainsKey($id))
				{
					if($targetResourceState[$id][0] -eq 255 -and $alert.ResolutionState -eq 0)
					{
						$targetResourceState[$id]=@($alert.ResolutionState,$alert.Severity.ToString());
					}
					elseif($targetResourceState[$id][0] -eq 0 -and $alert.ResolutionState -eq 0  )
                    {
                    $existingSeverity=GetSCOMSeverity -severity $targetResourceState[$id][1];
                    $currentSeverity=GetSCOMSeverity -severity $alert.Severity.ToString();
                    if($currentSeverity -gt $existingSeverity)
                    {
                        $targetResourceState[$id]=@($alert.ResolutionState,$alert.Severity.ToString());
                    }
                    }
				}
				else
				{
					$targetResourceState.add($id,@($alert.ResolutionState,$alert.Severity.ToString()));
				}
			}
       }
       $propertyBag
    }
   foreach($key in $targetResourceState.keys) 
   {
        $propertyBag = $momAPI.CreatePropertyBag()
        $propertyBag.AddValue("TargetId",$key);
        if($targetResourceState[$key][0] -eq $resolutionStateClose)
        {
            $propertyBag.AddValue("State", "Closed");
			$propertyBag.AddValue("Severity", $targetResourceState[$key][1]);
        }
        else
        {
            $propertyBag.AddValue("State", "Active");
			$propertyBag.AddValue("Severity", $targetResourceState[$key][1]);
        }
        $propertyBag
	} 
	foreach($ArmServiceClassInstance in $ArmServiceClassInstances)
	{
		$targetServiceId = $ArmServiceClassInstance.'[Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric].ServiceId'.Value; 
		if(!$targetResourceState.ContainsKey($targetServiceId) -or ($targetResourceState.ContainsKey($targetServiceId) -and $targetResourceState[$targetServiceId][1]-eq 'Information'))
		{
			$propertyBag = $momAPI.CreatePropertyBag();
			$propertyBag.AddValue("TargetId", $targetServiceId);
			$propertyBag.AddValue("State", "Closed");
		}
		$propertyBag            
	}
	foreach($ArmResourceClassInts in $ArmResourceClassInstances)
	{
		$targetResourceId = $ArmResourceClassInts.'[Microsoft.SystemCenter.MicrosoftAzure.ServiceResource].ResourceId'.Value; 
		if(!$targetResourceState.ContainsKey($targetResourceId)-or ($targetResourceState.ContainsKey($targetResourceId) -and $targetResourceState[$targetResourceId][1]-eq 'Information'))
		{
			$propertyBag = $momAPI.CreatePropertyBag();
			$propertyBag.AddValue("TargetId", $targetResourceId);
			$propertyBag.AddValue("State", "Closed");
		}
		$propertyBag            
	}
}
Catch
{
	AddTraceMessage -message $_.Exception.Message	
}
Finally
{   
	if ($error -ne $null -and $error.Count -gt 0 -and $error[0] -ne $null)
	{
		$momAPI.LogScriptEvent("GetAllAzureSCOMAlerts.ps1", 6420, 1, $error[0].ToString());		
	}
	if ($script:traceMsg -ne $null)
	{
		$momAPI.LogScriptEvent("GetAllAzureSCOMAlerts.ps1", 6421, 0, $script:traceMsg);		
	}
}</ScriptBody><Parameters><Parameter><Name>MGName</Name><Value>$Target/ManagementGroup/Name$</Value></Parameter></Parameters><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><StrictErrorHandling>true</StrictErrorHandling></ProbeAction></MemberModules><Composition><Node ID="Script"><Node ID="Scheduler" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.SpreadScheduler" Accessibility="Public" Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>System!System.ExpressionEvaluatorSchema</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="UniquenessKey" type="xsd:string"
/></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Config/UniquenessKey$</UniquenessKey></DataSource></MemberModules><Composition><Node ID="DS" /></Composition></Composite></ModuleImplementation><OutputType>System!System.TriggerData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.RootManagementServer.Discovery.DS" Accessibility="Public"
Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>System!System.Discovery.MapperSchema</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClassId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClassInstanceSettings" type="SettingsType" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RelationshipId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="RelationshipInstanceSettings" type="SettingsType" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SourceTypeId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0"
maxOccurs="1" name="SourceRoleSettings" type="SettingsType" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TargetTypeId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="TargetRoleSettings" type="SettingsType" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="System!System.Discovery.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ConditionDetection ID="CD"
TypeID="System!System.Discovery.ClassAndRelationshipSnapshotDataMapper"><ClassId>$Config/ClassId$</ClassId><ClassInstanceSettings>$Config/ClassInstanceSettings$</ClassInstanceSettings><RelationshipId>$Config/RelationshipId$</RelationshipId><RelationshipInstanceSettings>$Config/RelationshipInstanceSettings$</RelationshipInstanceSettings><SourceTypeId>$Config/SourceTypeId$</SourceTypeId><SourceRoleSettings>$Config/SourceRoleSettings$</SourceRoleSettings><TargetTypeId>$Config/TargetTypeId$</TargetTypeId><TargetRoleSettings>$Config/TargetRoleSettings$</TargetRoleSettings></ConditionDetection></MemberModules><Composition><Node ID="CD"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.MobileService.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"
Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceClass" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS"
TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="MobileService.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.MobileService.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><M
obileServiceClass>$Config/ServiceClass$</MobileServiceClass></ProbeAction></MemberModules><Composition><Node ID="MobileService.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RdfeService.PerformanceCounter.CollectData.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.MetricSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceInstanceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="InstanceName"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MetricSettings" type="MetricSettingsList" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="Scheduler" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.PerProbe.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval><SpreadInitializationOverInterval Unit="Seconds">$Config/IntervalSeconds$</SpreadInitializationOverInterval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><UniquenessKey>$Config/ResourceInstanceId$</UniquenessKey></DataSource><ProbeAction ID="RdfeService.PerformanceCounter.CollectData.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RdfeMetricValue.CollectData.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><InstanceId>$Config/ResourceInstanceId$</InstanceId><TargetId>$Config/TargetId$</TargetId><Interval>$Config/IntervalSeconds$</Interval><DefaultObjectName>$Config/DefaultObjectName$</DefaultObjectName><InstanceName>$Config/InstanceName$</InstanceName><MetricSettings>$Config/MetricSettings$</MetricSettings></ProbeAction></MemberModules><Compos
ition><Node ID="RdfeService.PerformanceCounter.CollectData.PA"><Node ID="Scheduler" /></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RemoteApp.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceClass" type="xsd:string"
/></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="RemoteApp.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.RemoteApp.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><Remot
eAppClass>$Config/ServiceClass$</RemoteAppClass></ProbeAction></MemberModules><Composition><Node ID="RemoteApp.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Discovery.DS.Managed" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceTypeSettings</SchemaType><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceGroupSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceGroupClass"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceTypeSettings" type="ResourceTypeClassList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceGroupSettings" type="MonitoredResourceGroupsList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ReferenceRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubresourceRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceReferencesAlertRuleRelationshipType"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubresourceReferencesAlertRuleRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceReferencesMetricAlertRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="SubresourceReferencesMetricAlertRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceReferencesInsightsScheduledRule" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="LogicalEntityReferencesInsightsActivityLogAlert" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="MGName" type="xsd:string"
/></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.ResourceDiscoveryDS</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceTypeSettings</SchemaType><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceGroupSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1"
name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceTypeSettings" type="ResourceTypeClassList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceGroupSettings" type="MonitoredResourceGroupsList" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Discovery.DS.Managed"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><ResourceGroupClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup"]$</ResourceGroupClass><ResourceClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmService"]$</ResourceClass><TargetId>$Config/T
argetId$</TargetId><SourceId>$Config/SourceId$</SourceId><ResourceTypeSettings>$Config/ResourceTypeSettings$</ResourceTypeSettings><ResourceGroupSettings>$Config/ResourceGroupSettings$</ResourceGroupSettings><ReferenceRelationshipType
/><SubresourceRelationshipType>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.Contains.ArmResource"]$</SubresourceRelationshipType><ResourceReferencesAlertRuleRelationshipType>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmService.References.Insights.AlertRule"]$</ResourceReferencesAlertRuleRelationshipType><SubresourceReferencesAlertRuleRelationshipType>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.References.Insights.AlertRule"]$</SubresourceReferencesAlertRuleRelationshipType><ResourceReferencesMetricAlertRelationshipType>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmService.References.Insights.MetricAlert"]$</ResourceReferencesMetricAlertRelationshipType><SubresourceReferencesMetricAlertRelationshipType>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.References.Insights.MetricAlert"]$</SubresourceReferencesMetricAlertRelationshipType><ResourceReferencesInsightsScheduledRule>$MPElement[Name="Microsoft
.SystemCenter.MicrosoftAzure.AzureServiceGeneric.References.Insights.ScheduledRule"]$</ResourceReferencesInsightsScheduledRule><LogicalEntityReferencesInsightsActivityLogAlert>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.LogicalEntity.References.Insights.ActivityLogAlert"]$</LogicalEntityReferencesInsightsActivityLogAlert><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><MGName>$Target/ManagementGroup/Name$</MGName></DataSource></MemberModules><Composition><Node ID="DS" /></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ServiceBus.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceClass" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates
/></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="ServiceBus.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.ServiceBus.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><Serv
iceBusClass>$Config/ServiceClass$</ServiceBusClass></ProbeAction></MemberModules><Composition><Node ID="ServiceBus.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.TrafficManager.Discovery.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="ServiceClass" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="WebApp!Microsoft.SystemCenter.WebApplication.Scheduler.Internal"><Scheduler><SimpleReccuringSchedule><Interval Unit="Seconds">$Config/IntervalSeconds$</Interval></SimpleReccuringSchedule><ExcludeDates /></Scheduler><ManagedEntityId>$Config/TargetId$</ManagedEntityId><RuleId>$MPElement$</RuleId><UniquenessKey>$Config/TargetId$$MPElement$</UniquenessKey></DataSource><ProbeAction ID="TrafficManager.Discovery.PA"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.TrafficManager.Discovery.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Config/ClientId$</ADClientId><SubscriptionId>$Config/SubscriptionId$</SubscriptionId><Proxy>$Config/Proxy$</Proxy><AuthBaseAddress>$Config/AuthBaseAddress$</AuthBaseAddress><ResourceBaseAddress>$Config/ResourceBaseAddress$</ResourceBaseAddress><Audience>$Config/Audience$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><BaseManagementApiAddress>$Config/BaseManagementApiAddress$</BaseManagementApiAddress><ManagementApiVersion>$Config/ManagementApiVersion$</ManagementApiVersion><SubscriptionClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</SubscriptionClass><TargetId>$Config/TargetId$</TargetId><SourceId>$Config/SourceId$</SourceId><
TrafficManagerClass>$Config/ServiceClass$</TrafficManagerClass></ProbeAction></MemberModules><Composition><Node ID="TrafficManager.Discovery.PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.VirtualMachineState.DS" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="MGName" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$"
ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.VirtualMachineStatusDS</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Test.SyntheticTransaction.DS" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionScript" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0"
name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="FunctionName" Selector="$Config/FunctionName$" ParameterType="string" /><OverrideableParameter ID="FunctionScript" Selector="$Config/FunctionScript$" ParameterType="string" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="System!System.SimpleScheduler"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><SyncTime>$Config/SyncTime$</SyncTime></DataSource><ProbeAction ID="PA"
TypeID="Windows!Microsoft.Windows.PowerShellPropertyBagProbe"><ScriptName>TestSyntheticTransaction</ScriptName><ScriptBody>
                  param ([String] $FunctionName, [String] $FunctionScript)
                  $SCRIPT_NAME = "TestSyntheticTransaction"
                  # -------------------------------------------------------------------------------------------------
# Begin Common.ps1
# This defines all common initialization functions and fields for all powershell scripts
# -------------------------------------------------------------------------------------------------
$ErrorActionPreference = "Stop"
# Event type constants
$EVENT_TYPE_LOG = 0
$EVENT_TYPE_ERROR = 1
$EVENT_TYPE_WARNING = 2
$EVENT_TYPE_INFORMATION = 4
# Typed property bag constants
$PROPERTY_TYPE_ALERT = 0
$PROPERTY_TYPE_EVENT = 1
$PROPERTY_TYPE_PERFORMANCE = 2
$PROPERTY_TYPE_STATE = 3
# State type constants
$STATE_SUCCESS = "Success"
$STATE_WARNING = "Warning"
$STATE_ERROR = "Error"
Function LogError($message)
{
  # Write to Console
  Write-Warning "ERROR: $SCRIPT_NAME: $message"
  #$momAPI.LogScriptEvent($SCRIPT_NAME, 101, $EVENT_TYPE_ERROR, $message)
}
Function LogInfo($message)
{
  # Write to Console
  Write-Host -ForegroundColor Green "INFO: $SCRIPT_NAME: $message"
  #$momAPI.LogScriptEvent($SCRIPT_NAME, 104, $EVENT_TYPE_INFORMATION, $message)
}
Function LogVerbose($message)
{
  # Write to Console
  Write-Verbose "VERBOSE: $SCRIPT_NAME: $message"
  #$momAPI.LogScriptEvent($SCRIPT_NAME, 105, $EVENT_TYPE_INFORMATION, $message)
}
Function ThrowAndExit($message)
{
  throw $message
  LogError($message)
  exit
}
Function CheckAndLogError($message)
{
  if($Error)
  {
    LogError($message)
    LogError($Error)
    exit
  }
}
# Method to resolve path.
# Resolve the local path to a full path but do not resolve the network path.
Function ResolvePath($path)
{
  $resolvedPath = $path
  if(!$path.StartsWith('\\'))
  {
    # Resolve local path
    $resolvedPath = resolve-path($path)
  }
  CheckAndLogError("ResolvePath($path)")
  return $resolvedPath
}
$Error.Clear()
$momAPI = new-object -comObject MOM.ScriptAPI
LogInfo("Executing PowerShell Script")
# -------------------------------------------------------------------------------------------------
# End of Common.ps1
# -------------------------------------------------------------------------------------------------
                  $StatePropertyBag = $momAPI.CreateTypedPropertyBag($PROPERTY_TYPE_STATE)
                  if ($StatePropertyBag -eq $null)
                  {
                  LogError("unable to create state property bag")
                  Exit
                  }
                  try
                  {
                  $TxResult = Invoke-Command -ScriptBlock ([scriptblock]::Create($FunctionScript))
                  }
                  catch [System.IO.IOException]
                  {
                  $StatePropertyBag.AddValue('State', "Error")
                  $StatePropertyBag.AddValue('Message', $_.Exception.Message)
                  $StatePropertyBag
                  Exit
                  }
                  catch
                  {
                  $StatePropertyBag.AddValue('State', "Error")
                  $StatePropertyBag.AddValue('Message', $_.Exception.Message)
                  $StatePropertyBag
                  Exit
                  }
                  if ($TxResult -eq $null)
                  {
                  $StatePropertyBag.AddValue('State', "Error")
                  $StatePropertyBag.AddValue('Message', "$FunctionName unable to retrieve result")
                  $StatePropertyBag
                  LogError("$FunctionName unable to retrieve result")
                  Exit
                  }
                  $StatePropertyBag.AddValue('State', "Success")
                  $StatePropertyBag
                  CheckAndLogError("Returned StatePropertyBag")
                  $ObjectName = "ManageabilityTest"
                  $CounterName = "Latency"
                  $InstanceName = $FunctionName
                  $Value = $TxResult
                  LogInfo("$FunctionName result is $TxResult")
                  $PerformancePropertyBag = $momAPI.CreateTypedPropertyBag($PROPERTY_TYPE_PERFORMANCE)
                  if ($PerformancePropertyBag -eq $null)
                  {
                  LogError("unable to create performance property bag")
                  Exit
                  }
                  $PerformancePropertyBag.AddValue('ObjectName', $ObjectName)
                  $PerformancePropertyBag.AddValue('CounterName', $CounterName)
                  $PerformancePropertyBag.AddValue('InstanceName', $InstanceName)
                  $PerformancePropertyBag.AddValue('Value', $Value)
                  $PerformancePropertyBag
                  CheckAndLogError("Returned PerformancePropertyBag")
                </ScriptBody><Parameters><Parameter><Name>FunctionName</Name><Value>$Config/FunctionName$</Value></Parameter><Parameter><Name>FunctionScript</Name><Value>$Config/FunctionScript$</Value></Parameter></Parameters><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></ProbeAction></MemberModules><Composition><Node ID="PA"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.Azure.CollectAvailability.PerformanceProvider" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeoutSeconds" type="xsd:integer"
/></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="System!System.SimpleScheduler"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><SyncTime>$Config/SyncTime$</SyncTime></DataSource><ProbeAction ID="PA" TypeID="Windows!Microsoft.Windows.PowerShellPropertyBagProbe"><ScriptName>Microsoft.SystemCenter.Azure.CollectAvailability.PerformanceProvider.ps1</ScriptName><ScriptBody>Param($rootEntityId)
$SCOMPowerShellKey = "HKLM:\SOFTWARE\Microsoft\System Center Operations Manager\12\Setup\Powershell\V2"
$SCOMModulePath = Join-Path (Get-ItemProperty $SCOMPowerShellKey).InstallDirectory “OperationsManager”
Import-module $SCOMModulePath
# this function is originally created by Sam Patton during 360 dashboard improvement
function GetManagedEntityAvailability($instance)
{
	$endTime = [DateTime]::UtcNow
	$timeDiff = [TimeSpan]::FromHours(1)
	$startTime = $endTime - $timeDiff
	$params = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameterCollection
	
	$param = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameter("StartTime", $startTime)
	$params.Add($param)
	$param = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameter("EndTime", $endTime)
	$params.Add($param)
	$param = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameter("ManagementGroup", $instance.ManagementGroup.Id)
	$params.Add($param)
	$param = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameter("ManagedEntityGuid", $instance.Id)
	$params.Add($param)
	$param = New-Object Microsoft.EnterpriseManagement.Warehouse.StoredProcedureParameter("AggregationType", 20)
	$params.Add($param)
	$dw = $instance.ManagementGroup.GetDataWarehouse()
	$rs = $dw.GetDataWarehouseData("SDK.Microsoft_SystemCenter_Visualization_Library_GetManagedEntityAvailability", $params)
	#
	# 0 - IntervalDurationMilliseconds
  # 1 - InWhiteStateMilliseconds
  # 2 - InGreenStateMilliseconds
  # 3 - InYellowStateMilliseconds
  # 4 - InRedStateMilliseconds
  # 5 - InPlannedMaintenanceMilliseconds
  # 6 - InUnplannedMaintenanceMilliseconds
  # 7 - InDisabledStateMilliseconds
  # 8 - HealthServiceUnavailableMilliseconds
	#
	# 1, 2, 5, and 8 are 'available' for purposes of this calculation
	# 
	$goodTime = 0
	$totalTime = $rs.Results[0].Values[0]
	$goodTime += $rs.Results[0].Values[1]
	$goodTime += $rs.Results[0].Values[2]
	$goodTime += $rs.Results[0].Values[5]
	$goodTime += $rs.Results[0].Values[8]
	$percentage = (100.0 * $goodTime) / $totalTime
	return [Math]::Round($percentage, 2)
}
$instancesList = @()
# get the root managed entity instance and add into list
$rootInstance = Get-SCOMClassInstance -Id $rootEntityId
$instancesList += $rootInstance
# get all related function instances and add into list
$referenceRelationshipClass = Get-SCOMRelationship -Name Microsoft.SystemCenter.MicrosoftAzure.DA.ServiceDeployment.Contains.ClientPerspective
$clientPerspectiveInstance = Get-SCOMRelationshipInstance -SourceInstance $rootInstance | where {$_.RelationshipId -eq $referenceRelationshipClass.Id}
if($clientPerspectiveInstance -ne $null)
{
	$referenceFunctionCPRelationshipClass = Get-SCOMRelationship -Name Microsoft.SystemCenter.MicrosoftAzure.DA.ClientPerspective.Hosts.Function
	$relationshipInstances = Get-SCOMRelationshipInstance -SourceInstance $clientPerspectiveInstance.TargetObject | where {$_.RelationshipId -eq $referenceFunctionCPRelationshipClass.Id}
	if($relationshipInstances -ne $null)
	{
		foreach ($relationshipInstance in $relationshipInstances)
		{
			$instancesList += Get-SCOMClassInstance -Id $relationshipInstance.TargetObject.Id
		}
	}
}
# go through each instance in the list and get the availability data and generate performance data
$api = New-Object -ComObject 'MOM.ScriptAPI'
foreach ($instance in $instancesList)
{
  if($instance -ne $null)
  {
	  $availability = GetManagedEntityAvailability($instance)
  
	  $bag = $api.CreateTypedPropertyBag(2)
	  $bag.AddValue('Instance', $instance.DisplayName)
	  $bag.AddValue('Availability', [System.Double]$availability)
	  $api.AddItem($bag)
	  $bag
  }
}</ScriptBody><Parameters><Parameter><Name>rootEntityId</Name><Value>$Target/Id$</Value></Parameter></Parameters><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><StrictErrorHandling>false</StrictErrorHandling></ProbeAction><ConditionDetection ID="CD" TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>Manageability</ObjectName><CounterName>Availability</CounterName><InstanceName>$Data/Property[@Name='Instance']$</InstanceName><Value>$Data/Property[@Name='Availability']$</Value></ConditionDetection></MemberModules><Composition><Node ID="CD"><Node ID="PA"><Node ID="DS" /></Node></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><DataSourceModuleType ID="Microsoft.SystemCenter.Azure.GenericPerformanceCounter.Provider" Accessibility="Public" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="ObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="CounterName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="InstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="Value" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><DataSource ID="DS" TypeID="System!System.SimpleScheduler"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><SyncTime>$Config/SyncTime$</SyncTime></DataSource><ConditionDetection ID="CD"
TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>$Config/ObjectName$</ObjectName><CounterName>$Config/CounterName$</CounterName><InstanceName>$Config/InstanceName$</InstanceName><Value>$Config/Value$</Value></ConditionDetection></MemberModules><Composition><Node ID="CD"><Node ID="DS" /></Node></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType></DataSourceModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.PerformanceCounter.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.MetricSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultInstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MetricSettings" type="MetricSettingsList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Kind" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.ArmPerformanceCollectionProbe</Type></Managed></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.CloudService.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="CloudServiceClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BackupClass" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.CloudServiceDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRoleProperty.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"
PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Role" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="StorageAccountOverride" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.ClassicComputeRolePropertyDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.Event.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceGroupName" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.ArmEventCollectionProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.MediaService.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MediaServiceClass" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.MediaServiceDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.HostedService.Certificate.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Threshold" type="xsd:integer" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.ServiceCertificateProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.EventLog.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ArmResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1"
name="StorageServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageAccount" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageTable" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.EventLogCollectionProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Event.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.NetTrace.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ArmResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentId"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageAccount" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageTable" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.NetTraceCollectionProbe</Type></Managed></ModuleImplementation><OutputType>SC!Microsoft.SystemCenter.Event.LinkedData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.PerformanceCounter.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ArmResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1"
name="StorageServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageAccount" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageTable" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.PerformanceCollectionProbe</Type></Managed></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.StorageAccount.CapacityBlob.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="true" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageAccount" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageTable" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.StorageAccountCapacityProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Certificate.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Threshold" type="xsd:integer" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.CertificateProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.MobileService.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MobileServiceClass" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.MobileServiceDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.NonClassicVirtualMachine.Turnoff.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceId"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceType" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.NonClassicVirtualMachineStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RdfeMetricValue.CollectData.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"
PassThrough="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.MetricSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="InstanceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Interval" type="xsd:int" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="DefaultObjectName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="InstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MetricSettings" type="MetricSettingsList" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.MetricValuesCollectionProbe</Type></Managed></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RemoteApp.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="RemoteAppClass" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.RemoteAppDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ResourceGroup.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"
PassThrough="false"><Configuration><IncludeSchemaTypes><SchemaType>Microsoft.SystemCenter.MicrosoftAzure.SchemaType.ResourceTypeSettings</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceGroupClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="ResourceTypeSettings" type="ResourceTypeClassList" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="ReferenceRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubresourceRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceReferencesAlertRuleRelationshipType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubresourceReferencesAlertRuleRelationshipType" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.ResourceGroupDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ServiceBus.Discovery.PA" Accessibility="Public"
RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceBusClass" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.ServiceBusDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.TrafficManager.Discovery.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string"
/><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionClass" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="TargetId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TrafficManagerClass" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.Discovery.TrafficManagerDiscoveryProbe</Type></Managed></ModuleImplementation><OutputType>System!System.Discovery.Data</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ProbeActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ClassicVirtualMachine.Turnoff.PA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false" PassThrough="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceId"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceType" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.RoleInstanceStatusProbeModule.ClassicVirtualMachineStatusProbe</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><TriggerOnly>true</TriggerOnly></ProbeActionModuleType><ConditionDetectionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Performance.ConditionDetection.LastValue" Accessibility="Public" Batching="false" Stateful="false" PassThrough="false"><Configuration /><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.LastPerformanceValueConditionDetection</Type></Managed></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType><InputTypes><InputType>Performance!System.Performance.Data</InputType></InputTypes></ConditionDetectionModuleType><ConditionDetectionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Test.PerformanceMapper.CD" Accessibility="Public" Batching="false" Stateful="false" PassThrough="false"><Configuration /><ModuleImplementation Isolation="Any"><Composite><MemberModules><ConditionDetection ID="Mapper"
TypeID="Performance!System.Performance.DataGenericMapper"><ObjectName>$Data/Property[@Name='ObjectName']$</ObjectName><CounterName>$Data/Property[@Name='CounterName']$</CounterName><InstanceName>$Data/Property[@Name='InstanceName']$</InstanceName><Value>$Data/Property[@Name='Value']$</Value></ConditionDetection></MemberModules><Composition><Node ID="Mapper" /></Composition></Composite></ModuleImplementation><OutputType>Performance!System.Performance.Data</OutputType><InputTypes><InputType>System!System.PropertyBagData</InputType></InputTypes></ConditionDetectionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.Operation.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="OperationName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="RequestType" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="RequestContent" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="OperationName" Selector="$Config/OperationName$" ParameterType="string" /><OverrideableParameter ID="RequestType" Selector="$Config/RequestType$" ParameterType="string" /><OverrideableParameter ID="RequestContent" Selector="$Config/RequestContent$" ParameterType="string" /></OverrideableParameters><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.TaskModules.ArmOperationWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole.Scale.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="RoleInstanceCount" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds"
Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="RoleInstanceCount" Selector="$Config/RoleInstanceCount$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.TaskModules.ArmRoleScaleWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.BaseRuleClass.CloseAllAlerts.Task.WA" Accessibility="Public" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ServiceId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1"
/><xsd:maxInclusive value="720" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeRange" Selector="$Config/TimeRange$" ParameterType="string" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.TaskModules.InsightsGenericRuleCloseAlertsWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.CloseAlertsActivityAndSQR" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0"
name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Composite><MemberModules><ConditionDetection ID="CDResolved" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Health']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Healthy</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><WriteAction ID="WA" TypeID="Windows!Microsoft.Windows.PowerShellWriteAction"><ScriptName>CloseAlert.ps1</ScriptName><ScriptBody>#RuleId - Alert for RuleId to be closed
param($RuleId,$MGName)
$errorActionPreference = 'Stop'
$momAPI = New-Object -ComObject "MOM.ScriptAPI"
$errEvent = [System.Diagnostics.EventLogEntryType]::Error;
$infoEvent = [System.Diagnostics.EventLogEntryType]::Information;
#Alert Resolution State
$resolutionStateClose = 255;
$script:traceMsg = "";
#Adds tracemessage to $Script
Function AddTraceMessage 
{
    param($message)
    $timeStamp = (get-date -format "HH:mm:ss:fff");
    $script:traceMsg = $script:traceMsg + "`n[" + $timeStamp  + "] " + $message;
}
Try
{
    $error.Clear();
                AddTraceMessage -message "Microsoft Azuew Metric Alert Rule CloseAlert.ps1 started."    
    if([string]::IsNullOrEmpty($RuleId))
                {
                                Throw [System.NullReferenceException] "Null or empty FaultId parameter to the script.";
                }
    #Import-Module OperationsManager
                $omModule = get-module -name "OperationsManager"
                if ($omModule -eq $null)
                {
                                $SCOMPowerShellKey = "HKLM:\SOFTWARE\Microsoft\System Center Operations Manager\12\Setup\Powershell\V2"
                                $SCOMModulePath = Join-Path (Get-ItemProperty $SCOMPowerShellKey).InstallDirectory "OperationsManager" 
                                Import-module $SCOMModulePath | Out-Null
                }
    AddTraceMessage -message "Searching OM Alert with these patterns: `n $RuleId"
	$ManagementGroupSubKeyPath = "\SOFTWARE\Microsoft\Microsoft Operations Manager\3.0\Server Management Groups\" + $MGName + "\Parent Health Services\0"
	if (-not ([string]::IsNullOrWhiteSpace(($MGName))) -And (Test-Path "HKLM:$ManagementGroupSubKeyPath"))
	{
		$ComputerName = (Get-ItemProperty "HKLM:$ManagementGroupSubKeyPath").NetworkName
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}
	else
	{
		$ComputerName = "localhost"
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}  
    
    $Criteria = "MonitoringObjectName='" + $RuleId + "'"
    $alert = Get-SCOMAlert -Criteria \"$Criteria\"
    if($alert -ne $null)
                {
                                AddTraceMessage -message ("Alert found. Name = " + $alert[0].Name)
                                Set-SCOMAlert -Alert $alert -ResolutionState $resolutionStateClose
                                AddTraceMessage -message "Alert is closed."
                }
                else
                {
                                AddTraceMessage -message "Could not find OM Alert with given pattern."
                }                              
                AddTraceMessage -message "Microsoft Azuew Metric Alert Rule CloseAlert.ps1 completed."
}
Catch
{
                AddTraceMessage -message $_.Exception.Message         
}
Finally
{   
                 if ($error -ne $null -and $error.Count -gt 0 -and $error[0] -ne $null)
                {
                                $momAPI.LogScriptEvent("CloseAlert.ps1", 6420, 1, $error[0].ToString());                             
                }
                if ($script:traceMsg -ne $null)
                {
                                $momAPI.LogScriptEvent("CloseAlert.ps1", 6421, 0, $script:traceMsg);                        
                }
}</ScriptBody><Parameters><Parameter><Name>RuleId</Name><Value>$Data/Property[@Name='RuleId']$</Value></Parameter><Parameter><Name>MGName</Name><Value>$Target/ManagementGroup/Name$</Value></Parameter></Parameters><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></WriteAction></MemberModules><Composition><Node ID="WA"><Node ID="CDResolved" /></Node></Composition></Composite></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.CloseMetricAlert" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation
Isolation="Any"><Composite><MemberModules><ConditionDetection ID="CDResolved" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Resolved</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><WriteAction ID="WA" TypeID="Windows!Microsoft.Windows.PowerShellWriteAction"><ScriptName>CloseAlert.ps1</ScriptName><ScriptBody>#RuleId - Alert for RuleId to be closed
param($RuleId,$MGName)
$errorActionPreference = 'Stop'
$momAPI = New-Object -ComObject "MOM.ScriptAPI"
$errEvent = [System.Diagnostics.EventLogEntryType]::Error;
$infoEvent = [System.Diagnostics.EventLogEntryType]::Information;
#Alert Resolution State
$resolutionStateClose = 255;
$script:traceMsg = "";
#Adds tracemessage to $Script
Function AddTraceMessage 
{
    param($message)
    $timeStamp = (get-date -format "HH:mm:ss:fff");
    $script:traceMsg = $script:traceMsg + "`n[" + $timeStamp  + "] " + $message;
}
Try
{
    $error.Clear();
                AddTraceMessage -message "Microsoft Azuew Metric Alert Rule CloseAlert.ps1 started."    
    if([string]::IsNullOrEmpty($RuleId))
                {
                                Throw [System.NullReferenceException] "Null or empty FaultId parameter to the script.";
                }
    #Import-Module OperationsManager
                $omModule = get-module -name "OperationsManager"
                if ($omModule -eq $null)
                {
                                $SCOMPowerShellKey = "HKLM:\SOFTWARE\Microsoft\System Center Operations Manager\12\Setup\Powershell\V2"
                                $SCOMModulePath = Join-Path (Get-ItemProperty $SCOMPowerShellKey).InstallDirectory "OperationsManager" 
                                Import-module $SCOMModulePath | Out-Null
                }
    AddTraceMessage -message "Searching OM Alert with these patterns: `n $RuleId"
	$ManagementGroupSubKeyPath = "\SOFTWARE\Microsoft\Microsoft Operations Manager\3.0\Server Management Groups\" + $MGName + "\Parent Health Services\0"
	if (-not ([string]::IsNullOrWhiteSpace(($MGName))) -And (Test-Path "HKLM:$ManagementGroupSubKeyPath"))
	{
		$ComputerName = (Get-ItemProperty "HKLM:$ManagementGroupSubKeyPath").NetworkName
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}
	else
	{
		$ComputerName = "localhost"
		New-SCOMManagementGroupConnection -ComputerName $ComputerName
	}  
    
    $Criteria = "MonitoringObjectName='" + $RuleId + "'"
    $alert = Get-SCOMAlert -Criteria \"$Criteria\"
    if($alert -ne $null)
                {
                                AddTraceMessage -message ("Alert found. Name = " + $alert[0].Name)
                                Set-SCOMAlert -Alert $alert -ResolutionState $resolutionStateClose
                                AddTraceMessage -message "Alert is closed."
                }
                else
                {
                                AddTraceMessage -message "Could not find OM Alert with given pattern."
                }                              
                AddTraceMessage -message "Microsoft Azuew Metric Alert Rule CloseAlert.ps1 completed."
}
Catch
{
                AddTraceMessage -message $_.Exception.Message         
}
Finally
{   
                 if ($error -ne $null -and $error.Count -gt 0 -and $error[0] -ne $null)
                {
                                $momAPI.LogScriptEvent("CloseAlert.ps1", 6420, 1, $error[0].ToString());                             
                }
                if ($script:traceMsg -ne $null)
                {
                                $momAPI.LogScriptEvent("CloseAlert.ps1", 6421, 0, $script:traceMsg);                        
                }
}</ScriptBody><Parameters><Parameter><Name>RuleId</Name><Value>$Data/Property[@Name='ResourceUri']$</Value></Parameter><Parameter><Name>MGName</Name><Value>$Target/ManagementGroup/Name$</Value></Parameter></Parameters><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></WriteAction></MemberModules><Composition><Node ID="WA"><Node ID="CDResolved" /></Node></Composition></Composite></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenerateAlert" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration><IncludeSchemaTypes><SchemaType>Health!System.Health.AlertSchema</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="Priority"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="0" /><xsd:maxInclusive value="2"
/></xsd:restriction></xsd:simpleType></xsd:element><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="Severity"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="0" /><xsd:maxInclusive value="2" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><ModuleImplementation Isolation="Any"><Composite><MemberModules><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><WriteAction ID="WA"
TypeID="Health!System.Health.GenerateAlert"><Priority>$Config/Priority$</Priority><Severity>$Config/Severity$</Severity><AlertMessageId>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.GenerateAlert.AlertMessage"]$</AlertMessageId><AlertParameters><AlertParameter1>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</AlertParameter1><AlertParameter2>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</AlertParameter2><AlertParameter3>$Target/Host/Host/Property[Type="System!System.Entity"]/DisplayName$</AlertParameter3><AlertParameter4>$Data/Property[@Name='ResourceUri']$</AlertParameter4><AlertParameter5>$Data/Property[@Name='Description']$</AlertParameter5><AlertParameter6>$Data/Property[@Name='TargetResourceIds']$</AlertParameter6></AlertParameters><Suppression><SuppressionValue>$Data/Property[@Name='ResourceUri']$</SuppressionValue></Suppression></WriteAction></MemberModules><Compositi
on><Node ID="WA"><Node ID="CDCritical" /></Node></Composition></Composite></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenerateAlertsActivityAndSQR" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration /><ModuleImplementation Isolation="Any"><Composite><MemberModules><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Health']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Critical</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><WriteAction ID="WA"
TypeID="Health!System.Health.GenerateAlert"><Priority>1</Priority><Severity>2</Severity><AlertMessageId>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.GenerateAlertsActivityAndSQR.AlertMessage"]$</AlertMessageId><AlertParameters><AlertParameter1>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</AlertParameter1><AlertParameter2>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</AlertParameter2><AlertParameter3>$Target/Host/Host/Property[Type="System!System.Entity"]/DisplayName$</AlertParameter3><AlertParameter4>$Data/Property[@Name='Description']$</AlertParameter4><AlertParameter5>$Data/Property[@Name='TargetResourceIds']$</AlertParameter5></AlertParameters><Suppression><SuppressionValue>$Data/Property[@Name='RuleId']$</SuppressionValue></Suppression></WriteAction></MemberModules><Composition><Node ID="WA"><Node ID="CDCritical"
/></Node></Composition></Composite></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GenerateMetricAlert" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount" Batching="true"><Configuration /><ModuleImplementation Isolation="Any"><Composite><MemberModules><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><WriteAction ID="WA"
TypeID="Health!System.Health.GenerateAlert"><Priority>1</Priority><Severity>2</Severity><AlertMessageId>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.GenerateMetricAlert.AlertMessage"]$</AlertMessageId><AlertParameters><AlertParameter1>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</AlertParameter1><AlertParameter2>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</AlertParameter2><AlertParameter3>$Target/Host/Host/Property[Type="System!System.Entity"]/DisplayName$</AlertParameter3><AlertParameter4>$Data/Property[@Name='ResourceUri']$</AlertParameter4><AlertParameter5>$Data/Property[@Name='Description']$</AlertParameter5><AlertParameter6>$Data/Property[@Name='TargetResourceIds']$</AlertParameter6></AlertParameters><Suppression><SuppressionValue>$Data/Property[@Name='ResourceUri']$</SuppressionValue></Suppression></WriteAction></MemberModules><Composition><Node ID="WA"><Node
ID="CDCritical" /></Node></Composition></Composite></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Deployment.Task.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentName"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Operation" type="xsd:string" /></Configuration><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.DeploymentWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.GetExcludedResources.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.TaskModules.GetExcludedResourcesWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.HostedService.SwapDeployment.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.SwapDeploymentWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.Role.DiagnosticsStorage.Grooming.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="StorageServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageAccount" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0"
maxOccurs="1" name="DiagnosticsStorageAccountOverride" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DiagnosticsStorageTable" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="GracePeriodHours" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="GracePeriodHours" Selector="$Config/GracePeriodHours$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.DiagnosticsStorageGroomingWriteAction</Type></Managed></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType
ID="Microsoft.SystemCenter.MicrosoftAzure.Role.Scale.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1"
name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" maxOccurs="1" name="RoleInstanceCount" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="RoleInstanceCount" Selector="$Config/RoleInstanceCount$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.RoleScaleWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.RoleInstance.Task.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="0" maxOccurs="1" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Username" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="AuthData" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Authority" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ResourceUri" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="BaseManagementApiAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ManagementApiVersion" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="ServiceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentSlot" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="DeploymentName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="RoleInstanceName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="Operation" type="xsd:string" /></Configuration><ModuleImplementation
Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.EnterpriseManagement.Modules.Azure.RoleInstanceWriteAction</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.ServiceTypesAnd.PerformanceCounters.ObtainData.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy" Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId"
type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ManagementServiceApiVersion" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FullScan" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MaxResourcesForMetricsScan" type="xsd:integer" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="MGName" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="FullScan" Selector="$Config/FullScan$" ParameterType="int" /><OverrideableParameter ID="MaxResourcesForMetricsScan" Selector="$Config/MaxResourcesForMetricsScan$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.TaskModules.ServiceTypeObtainData</Type></Managed></ModuleImplementation><OutputType>System!System.PropertyBagData</OutputType><InputType>System!System.BaseData</InputType></WriteActionModuleType><WriteActionModuleType ID="Microsoft.SystemCenter.MicrosoftAzure.StorageGrooming.WA" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"
Batching="false"><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADUserName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADPassword" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ADClientId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="SubscriptionId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Proxy" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="AuthBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ResourceBaseAddress" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="Audience" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1"
name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="StorageServiceDnsSuffix" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="StorageAccountId" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="StorageTable" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ListKeysApi" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="GracePeriodHours" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="MaximumDataItemsToProcess" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="GracePeriodHours" Selector="$Config/GracePeriodHours$" ParameterType="int"
/><OverrideableParameter ID="MaximumDataItemsToProcess" Selector="$Config/MaximumDataItemsToProcess$" ParameterType="int" /></OverrideableParameters><ModuleImplementation Isolation="Any"><Managed><Assembly>Res.Microsoft.SystemCenter.MicrosoftAzure.Modules</Assembly><Type>Microsoft.SystemCenter.Azure.Modules.DiagnosticsCollectionModules.StorageGroomingProbe</Type></Managed></ModuleImplementation><InputType>System!System.BaseData</InputType></WriteActionModuleType></ModuleTypes><MonitorTypes><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ActivityLogAlert.Alerts.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeRange" Selector="$Config/TimeRange$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ActivityLogAlert.Alerts.Monitoring.DS"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Pr
operty[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><MGName>$Target/ManagementGroup/Name$</MGName><TimeRange>$Config/TimeRange$</TimeRange></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceUri']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Resolved</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert.Incident.MonitorType" Accessibility="Public"
RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeRange" Selector="$Config/TimeRange$"
ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="AlertRule.Incident.DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.Insights.MetricAlert.Monitoring.DS"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Property[Type=
"Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeRange>$Config/TimeRange$</TimeRange></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceGroupName']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Host/Property[Type="System!System.Entity"]/DisplayName$</Value></ValueExpression></SimpleExpression></Expression><Expression><Or><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceUri']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='RuleName']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</Value></ValueExpression></SimpleExpression></Expression></Or></Expression></And></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Resolved</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical"
TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="AlertRule.Incident.DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="AlertRule.Incident.DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Wad.EventLog.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="FirstEventRaised"
NoDetection="false" /><MonitorTypeState ID="SecondEventRaised" NoDetection="false" /></MonitorTypeStates><Configuration><IncludeSchemaTypes><SchemaType>System!System.ExpressionEvaluatorSchema</SchemaType></IncludeSchemaTypes><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="FirstExpression" type="ExpressionType" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="SecondExpression" type="ExpressionType" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int"
/></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS" TypeID="Microsoft.SystemCenter.MicrosoftAzure.GenericVirtualMachine.Wad.EventLog.CollectData.DS"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="FirstFilterCondition" TypeID="System!System.ExpressionFilter"><Expression>$Config/FirstExpression$</Expression></ConditionDetection><ConditionDetection ID="SecondFilterCondition" TypeID="System!System.ExpressionFilter"><Expression>$Config/SecondExpression$</Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="FirstEventRaised"><Node ID="FirstFilterCondition"><Node ID="DS" /></Node></RegularDetection><RegularDetection MonitorTypeStateID="SecondEventRaised"><Node ID="SecondFilterCondition"><Node ID="DS" /></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType
ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule.Incident.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string"
/></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="AlertRule.Incident.DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.Insights.AlertRule.Event.CollectData.DS"><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><MGName>$Target/ManagementGroup
/Name$</MGName><ResourceId /><ResourceGroupName /><SyncTime>$Config/SyncTime$</SyncTime><ServiceName /><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceGroupName']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Host/Property[Type="System!System.Entity"]/DisplayName$</Value></ValueExpression></SimpleExpression></Expression><Expression><Or><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceUri']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceUri']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></Or></Expression></And></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Resolved</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical"
TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="AlertRule.Incident.DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="AlertRule.Incident.DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ScheduledQueryRule.Alerts.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false"
/><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeRange"><xsd:simpleType><xsd:restriction base="xsd:integer"><xsd:minInclusive value="1" /><xsd:maxInclusive value="720" /></xsd:restriction></xsd:simpleType></xsd:element></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeRange" Selector="$Config/TimeRange$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.Insights.ScheduledQueryRule.Alerts.Monitoring.DS"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/
Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><MGName>$Target/ManagementGroup/Name$</MGName><TimeRange>$Config/TimeRange$</TimeRange></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ResourceUri']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Resolved</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Status']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Activated</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Alerts.HealthState.MonitorType" Accessibility="Public"
RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Warning" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='RuleId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection
ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Error</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection><ConditionDetection ID="CDWarning" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Warning</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Warning"><Node ID="CDWarning"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.Alerts.MonitorType"
Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='TargetId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection
ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmResource.HealthState.MonitorType" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Warning"
NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts" TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery
Type="String">Property[@Name='TargetId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]/ResourceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Error</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection><ConditionDetection ID="CDWarning" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Warning</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Warning"><Node ID="CDWarning"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService.HealthState.MonitorType" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Warning" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false"
/></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts" TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery
Type="String">Property[@Name='TargetId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Error</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection><ConditionDetection ID="CDWarning" TypeID="System!System.ExpressionFilter"><Expression><And><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='Severity']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Warning</Value></ValueExpression></SimpleExpression></Expression><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></And></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Warning"><Node ID="CDWarning"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.ArmService.MonitorType" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts" TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='TargetId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value
Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node
ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Insights.Metric.Alerts.MonitorType" Accessibility="Public" RunAs="System!System.PrivilegedMonitoringAccount"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" maxOccurs="1" name="TimeoutSeconds" type="xsd:integer" /></Configuration><OverrideableParameters><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int"
/><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="GetAllAlerts" TypeID="Microsoft.SystemCenter.MicrosoftAzure.GetAlertsDSType"><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='RuleId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery
Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Closed</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Active</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="GetAllAlerts" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType
ID="Microsoft.SystemCenter.MicrosoftAzure.VirtualMachine.Turnoff.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string"
/></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.VirtualMachineState.DS"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds
><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><MGName>$Target/ManagementGroup/Name$</MGName></DataSource><ConditionDetection ID="Filter" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='ServiceId']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">True</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">False</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Filter"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.HostedService.Certificate.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeoutSeconds"
type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Threshold" type="xsd:double" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="Threshold" Selector="$Config/Threshold$" ParameterType="double" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS"
TypeID="System!System.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval>$Config/IntervalSeconds$</Interval><SyncTime>$Config/SyncTime$</SyncTime></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ProbeAction ID="Probe"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.HostedService.Certificate.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><BaseManagementApiAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><Managem
entApiVersion>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Threshold>$Config/Threshold$</Threshold><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName></ProbeAction><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">True</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">False</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.NonClassicVirtualMachine.Turnoff.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS" TypeID="System!System.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval>$Config/IntervalSeconds$</Interval><SyncTime>$Config/SyncTime$</SyncTime></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ProbeAction ID="Probe"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.NonClassicVirtualMachine.Turnoff.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</T
imeoutSeconds><ServiceId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</ServiceId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><ServiceType>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/Type$</ServiceType></ProbeAction><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">True</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">False</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Certificate.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="TimeoutSeconds"
type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Threshold" type="xsd:double" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="Threshold" Selector="$Config/Threshold$" ParameterType="double" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS"
TypeID="System!System.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval>$Config/IntervalSeconds$</Interval><SyncTime>$Config/SyncTime$</SyncTime></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ProbeAction ID="Probe"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.Subscription.Certificate.PA"><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds><Proxy>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><Username>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</Username><AuthData>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</AuthData><ClientId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><Authority>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</Authority><ResourceUri>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</ResourceUri><BaseManagementApiAddress>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ManagementServiceUri$</BaseManagementApiAddress><ManagementApiVersion>$Target/Property[Type="Microsoft.Syst
emCenter.MicrosoftAzure.Subscription"]/ManagementServiceApiVersion$</ManagementApiVersion><SubscriptionId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><Threshold>$Config/Threshold$</Threshold></ProbeAction><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">True</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">False</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.ClassicVirtualMachine.Turnoff.MonitorType" Accessibility="Public" RunAs="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.Proxy"><MonitorTypeStates><MonitorTypeState ID="Healthy" NoDetection="false" /><MonitorTypeState ID="Critical" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="IntervalSeconds"
type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="SyncTime" type="xsd:string" /></Configuration><OverrideableParameters><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS" TypeID="System!System.Scheduler"><Scheduler><SimpleReccuringSchedule><Interval>$Config/IntervalSeconds$</Interval><SyncTime>$Config/SyncTime$</SyncTime></SimpleReccuringSchedule><ExcludeDates /></Scheduler></DataSource><ProbeAction ID="Probe"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.ClassicVirtualMachine.Turnoff.PA"><ADUserName>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/UserName$</ADUserName><ADPassword>$RunAs[Name="Microsoft.SystemCenter.MicrosoftAzure.RunAsProfile.ADCredentials"]/Password$</ADPassword><ADClientId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ADClientId><SubscriptionId>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><AuthBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TimeoutSeconds>$Config/TimeoutSeconds$</Time
outSeconds><ServiceId>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceId$</ServiceId><ServiceName>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/ServiceName$</ServiceName><ServiceType>$Target/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]/Type$</ServiceType></ProbeAction><ConditionDetection ID="CDHealthy" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">True</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDCritical" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">
                      Property[@Name='Status']
                    </XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">False</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="Healthy"><Node ID="CDHealthy"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="Critical"><Node ID="CDCritical"><Node ID="Probe"><Node ID="DS" /></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Test.State.MonitorType" Accessibility="Public"><MonitorTypeStates><MonitorTypeState ID="ConditionTrue" NoDetection="false" /><MonitorTypeState ID="ConditionFalse" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionName" type="xsd:string" /><xsd:element
xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionScript" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ErrorSuppressionMatchCount" type="xsd:unsignedByte" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="ErrorSuppressionWithinSeconds" type="xsd:unsignedInt" /></Configuration><OverrideableParameters><OverrideableParameter ID="FunctionName" Selector="$Config/FunctionName$" ParameterType="string" /><OverrideableParameter ID="FunctionScript" Selector="$Config/FunctionScript$" ParameterType="string" /><OverrideableParameter ID="IntervalSeconds"
Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="ErrorSuppressionMatchCount" Selector="$Config/ErrorSuppressionMatchCount$" ParameterType="int" /><OverrideableParameter ID="ErrorSuppressionWithinSeconds" Selector="$Config/ErrorSuppressionWithinSeconds$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS" TypeID="Microsoft.SystemCenter.MicrosoftAzure.Test.SyntheticTransaction.DS"><FunctionName>$Config/FunctionName$</FunctionName><FunctionScript>$Config/FunctionScript$</FunctionScript><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><SyncTime>$Config/SyncTime$</SyncTime><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="SuccessCD"
TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Success</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="ErrorCD" TypeID="System!System.ExpressionFilter.EventSuppression"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="String">Property[@Name='State']</XPathQuery></ValueExpression><Operator>Equal</Operator><ValueExpression><Value Type="String">Error</Value></ValueExpression></SimpleExpression></Expression><SuppressionSettings><MatchCount>$Config/ErrorSuppressionMatchCount$</MatchCount><WithinSeconds>$Config/ErrorSuppressionWithinSeconds$</WithinSeconds></SuppressionSettings></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="ConditionTrue"><Node ID="SuccessCD"><Node ID="DS"
/></Node></RegularDetection><RegularDetection MonitorTypeStateID="ConditionFalse"><Node ID="ErrorCD"><Node ID="DS" /></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType><UnitMonitorType ID="Microsoft.SystemCenter.MicrosoftAzure.Test.Performance.MonitorType" Accessibility="Public"><MonitorTypeStates><MonitorTypeState ID="ConditionTrue" NoDetection="false" /><MonitorTypeState ID="ConditionFalse" NoDetection="false" /></MonitorTypeStates><Configuration><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionName" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="FunctionScript" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="IntervalSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="0" name="SyncTime" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema"
minOccurs="1" name="TimeoutSeconds" type="xsd:integer" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Threshold" type="xsd:double" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="Direction" type="xsd:string" /><xsd:element xmlns:xsd="http://www.w3.org/2001/XMLSchema" minOccurs="1" name="NumSamples" type="xsd:unsignedInt" /></Configuration><OverrideableParameters><OverrideableParameter ID="FunctionName" Selector="$Config/FunctionName$" ParameterType="string" /><OverrideableParameter ID="FunctionScript" Selector="$Config/FunctionScript$" ParameterType="string" /><OverrideableParameter ID="IntervalSeconds" Selector="$Config/IntervalSeconds$" ParameterType="int" /><OverrideableParameter ID="SyncTime" Selector="$Config/SyncTime$" ParameterType="string" /><OverrideableParameter ID="TimeoutSeconds" Selector="$Config/TimeoutSeconds$" ParameterType="int" /><OverrideableParameter ID="Threshold" Selector="$Config/Threshold$"
ParameterType="double" /><OverrideableParameter ID="NumSamples" Selector="$Config/NumSamples$" ParameterType="int" /></OverrideableParameters><MonitorImplementation><MemberModules><DataSource ID="DS" TypeID="Microsoft.SystemCenter.MicrosoftAzure.Test.SyntheticTransaction.DS"><FunctionName>$Config/FunctionName$</FunctionName><FunctionScript>$Config/FunctionScript$</FunctionScript><IntervalSeconds>$Config/IntervalSeconds$</IntervalSeconds><SyncTime>$Config/SyncTime$</SyncTime><TimeoutSeconds>$Config/TimeoutSeconds$</TimeoutSeconds></DataSource><ConditionDetection ID="Mapper" TypeID="Microsoft.SystemCenter.MicrosoftAzure.Test.PerformanceMapper.CD" /><ConditionDetection ID="CD" TypeID="Performance!System.Performance.ConsecutiveSamplesCondition"><Threshold>$Config/Threshold$</Threshold><Direction>$Config/Direction$</Direction></ConditionDetection><ConditionDetection ID="CDSufficientSamples" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery
Type="Double">Value</XPathQuery></ValueExpression><Operator>GreaterEqual</Operator><ValueExpression><Value Type="Double">$Config/NumSamples$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection><ConditionDetection ID="CDInSufficientSamples" TypeID="System!System.ExpressionFilter"><Expression><SimpleExpression><ValueExpression><XPathQuery Type="Double">Value</XPathQuery></ValueExpression><Operator>Less</Operator><ValueExpression><Value Type="Double">$Config/NumSamples$</Value></ValueExpression></SimpleExpression></Expression></ConditionDetection></MemberModules><RegularDetections><RegularDetection MonitorTypeStateID="ConditionTrue"><Node ID="CDSufficientSamples"><Node ID="CD"><Node ID="Mapper"><Node ID="DS" /></Node></Node></Node></RegularDetection><RegularDetection MonitorTypeStateID="ConditionFalse"><Node ID="CDInSufficientSamples"><Node ID="CD"><Node ID="Mapper"><Node ID="DS"
/></Node></Node></Node></RegularDetection></RegularDetections></MonitorImplementation></UnitMonitorType></MonitorTypes></TypeDefinitions><Categories><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Dashboard.DataProviders.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Dashboard.DataProviders" Value="Visualization!Microsoft.SystemCenter.Visualization.DataProviderAssembly" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Dashboard.WPFComponents.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Dashboard.WPFComponents" Value="Visualization!Microsoft.SystemCenter.Visualization.WpfComponentAssembly" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.LandingPageViewType.Assembly.Category.Windows" Target="Res.Microsoft.SystemCenter.MicrosoftAzure.UI" Value="Visualization!Microsoft.SystemCenter.Visualization.WindowsAssembly" /><Category ID="Res.Microsoft.SystemCenter.MicrosoftAzure.Modules.Assembly.Category.Windows"
Target="Res.Microsoft.SystemCenter.MicrosoftAzure.Modules" Value="Visualization!Microsoft.SystemCenter.Visualization.WindowsAssembly" /><Category ID="Res.Microsoft.SystemCenter.MicrosoftAzure.REST.Assembly.Category.Windows" Target="Res.Microsoft.SystemCenter.MicrosoftAzure.REST" Value="Visualization!Microsoft.SystemCenter.Visualization.WindowsAssembly" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Deployment16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Deployment16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Deployment80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Deployment80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.HostedService16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.HostedService16"
Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.HostedService80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.HostedService80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Role16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Role16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Role80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Role80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.RoleInstance16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.RoleInstance16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.RoleInstance80.Category"
Target="Microsoft.SystemCenter.MicrosoftAzure.Image.RoleInstance80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.CloudServices16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.CloudServices16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.CloudServices80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.CloudServices80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.ExternalServices16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.ExternalServices16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.ExternalServices80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.ExternalServices80"
Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Storage16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Storage16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.Storage80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.Storage80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.SQLDatabases16.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.SQLDatabases16" Value="System!System.Internal.ManagementPack.Images.u16x16Icon" /><Category ID="Microsoft.SystemCenter.MicrosoftAzure.Image.SQLDatabases80.Category" Target="Microsoft.SystemCenter.MicrosoftAzure.Image.SQLDatabases80" Value="System!System.Internal.ManagementPack.Images.DiagramIcon" /></Categories><Monitoring><Discoveries><Discovery
ID="Microsoft.SystemCenter.MicrosoftAzure.Group.AllAzureMonitoredResources.Discovery" Enabled="true" Target="Microsoft.SystemCenter.MicrosoftAzure.Group.AllAzureMonitoredResources" ConfirmDelivery="false" Remotable="true" Priority="Normal"><Category>Discovery</Category><DiscoveryTypes><DiscoveryRelationship TypeID="IGL!Microsoft.SystemCenter.InstanceGroupContainsEntities" /></DiscoveryTypes><DataSource ID="DiscoveryDataSource"
TypeID="SC!Microsoft.SystemCenter.GroupPopulator"><RuleId>$MPElement$</RuleId><GroupInstanceId>$Target/Id$</GroupInstanceId><MembershipRules><MembershipRule><MonitoringClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]$</MonitoringClass><RelationshipClass>$MPElement[Name="IGL!Microsoft.SystemCenter.InstanceGroupContainsEntities"]$</RelationshipClass></MembershipRule><MembershipRule><MonitoringClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.AzureServiceGeneric"]$</MonitoringClass><RelationshipClass>$MPElement[Name="IGL!Microsoft.SystemCenter.InstanceGroupContainsEntities"]$</RelationshipClass></MembershipRule><MembershipRule><MonitoringClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.ServiceResource"]$</MonitoringClass><RelationshipClass>$MPElement[Name="IGL!Microsoft.SystemCenter.InstanceGroupContainsEntities"]$</RelationshipClass></MembershipRule><MembershipRule><MonitoringClass>$MPElement[Name="Microsoft.SystemCenter.MicrosoftAzure.Gr
oup.ResourcePoolComputers"]$</MonitoringClass><RelationshipClass>$MPElement[Name="IGL!Microsoft.SystemCenter.InstanceGroupContainsEntities"]$</RelationshipClass></MembershipRule></MembershipRules></DataSource></Discovery><Discovery ID="Microsoft.SystemCenter.MicrosoftAzure.GenericRoleProperty.Discovery" Enabled="true" Target="Microsoft.SystemCenter.MicrosoftAzure.GenericRole" ConfirmDelivery="false" Remotable="true" Priority="Normal"><Category>Discovery</Category><DiscoveryTypes><DiscoveryClass TypeID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole"><Property TypeID="Microsoft.SystemCenter.MicrosoftAzure.GenericRole" PropertyID="DiagnosticsStorageAccount" /></DiscoveryClass></DiscoveryTypes><DataSource ID="DiscoveryDataSource"
TypeID="Microsoft.SystemCenter.MicrosoftAzure.GenericRoleProperty.Discovery.DS"><IntervalSeconds>14400</IntervalSeconds><TimeoutSeconds>120</TimeoutSeconds><Proxy>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ProxyServerAddress$</Proxy><SubscriptionId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/SubscriptionId$</SubscriptionId><ClientId>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ClientId$</ClientId><AuthBaseAddress>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/Authority$</AuthBaseAddress><ResourceBaseAddress>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ArmServiceUri$</ResourceBaseAddress><Audience>$Target/Host/Host/Host/Property[Type="Microsoft.SystemCenter.MicrosoftAzure.Subscription"]/ResourceUri$</Audience><TargetId>$Target/Id$</TargetId><SourceId>$MPElemen
